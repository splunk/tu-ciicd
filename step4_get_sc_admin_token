# Step 4.1 Install App, first must pass AppInspect in Cloud

# REQUIREMENTS 
# a user account on splunk.com 
# and 
# a user account, WITH sc_admin role, on the  ADHOC cluster of the target stack 

##### 
# environment = staging.admin.splunk.com
# stackname_adhoc = clap-nutella-es
# acs = /adminconfig/v2
# user = macecron
# password = yourpassword
###### 

# Get Token for ADHOC on Cloud Stack 
# user must be sc_admin in adhoc

curl -u <user>:<password> -X POST 'https://<environment>/<stackname_adhoc>/<acs>/tokens' --header 'Content-Type: application/json' --data-raw '{"user" : "<user>","for sc_admins" : "install app victoria", "expiresOn" : "+5d"}' 

# receive back token 
# for example 
# {"user":"macecron","audience":"acs-test","id":"3ecf92ee19723c9907139f13f456898830cd69349a5884be02838d65064520e9",
# "token":"eyJraWQiOiJzcGx1bmsuc2VjcmV0IiwiYWxnIjoiSFM1MTIiLCJ2ZXIiOiJ2MiIsInR0eXAiOiJzdGF0aWMifQ.eyJpc3MiOiJtYWNlY3
#            JvbiBmcm9tIHNoLWktMDU4OThiYzgxMDhmYzAzZTIiLCJzdWIiOiJtYWNlY3JvbiIsImF1ZCI6ImFjcy10ZXN0IiwiaWRwIjoiU3BsdW5r
#         IiwianRpIjoiM2VjZjkyZWUxOTcykzNDlhNTDQzNjd9.0El9_L6tqu2aXlXNQJ-QyLK0LK6Z2_643P_meHNI-gukVAyJD
#         9qub7jgMgT7yfbFwzBMYJj0EPf9SLDyNEUkw"
# ,"status":"enabled","expiresOn":"2025-01-19T22:06:07Z","notBefore":"2024-10-11T22:06:07Z"}

# copy this token for further Cloud stack commands 

# Get Token for api at Splunk.Com for AppInspect 
#### 
# splunkcomuser = mcronkrite@splunk.com
#####

curl -u <splunkcomuser> --url "https://api.splunk.com/2.0/rest/login/splunk"

# receive back token 
# for example 
# 


# copy this token for appinspect api commands
